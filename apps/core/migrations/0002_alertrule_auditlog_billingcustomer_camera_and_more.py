# Generated by Django 4.2.11 on 2026-01-29 00:03

from django.db import migrations, models
import uuid


class Migration(migrations.Migration):

    dependencies = [
        ('core', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='AlertRule',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('type', models.TextField()),
                ('severity', models.CharField(choices=[('critical', 'critical'), ('warning', 'warning'), ('info', 'info')], default='warning', max_length=20)),
                ('active', models.BooleanField(default=True)),
                ('threshold', models.JSONField(default=dict)),
                ('cooldown_minutes', models.IntegerField(default=15)),
                ('channels', models.JSONField(default=dict)),
                ('created_at', models.DateTimeField()),
                ('updated_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'alert_rules',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='AuditLog',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('actor_user_id', models.UUIDField(blank=True, null=True)),
                ('action', models.TextField()),
                ('payload', models.JSONField(default=dict)),
                ('created_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'audit_logs',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='BillingCustomer',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('stripe_customer_id', models.TextField()),
                ('created_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'billing_customers',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Camera',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('name', models.TextField()),
                ('brand', models.TextField(blank=True, null=True)),
                ('model', models.TextField(blank=True, null=True)),
                ('ip', models.TextField(blank=True, null=True)),
                ('onvif', models.BooleanField(default=False)),
                ('rtsp_url', models.TextField(blank=True, null=True)),
                ('username', models.TextField(blank=True, null=True)),
                ('password', models.TextField(blank=True, null=True)),
                ('status', models.CharField(choices=[('online', 'online'), ('offline', 'offline'), ('unknown', 'unknown'), ('error', 'error')], default='unknown', max_length=20)),
                ('last_seen_at', models.DateTimeField(blank=True, null=True)),
                ('last_snapshot_url', models.TextField(blank=True, null=True)),
                ('last_error', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField()),
                ('updated_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'cameras',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='CameraHealthLog',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('checked_at', models.DateTimeField()),
                ('status', models.CharField(choices=[('online', 'online'), ('offline', 'offline'), ('unknown', 'unknown'), ('error', 'error')], max_length=20)),
                ('latency_ms', models.IntegerField(blank=True, null=True)),
                ('snapshot_url', models.TextField(blank=True, null=True)),
                ('error', models.TextField(blank=True, null=True)),
            ],
            options={
                'db_table': 'camera_health_logs',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='DemoLead',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('org_name', models.TextField(blank=True, null=True)),
                ('contact_name', models.TextField()),
                ('email', models.TextField()),
                ('whatsapp', models.TextField(blank=True, null=True)),
                ('best_time', models.TextField(blank=True, null=True)),
                ('segment', models.TextField(blank=True, null=True)),
                ('stores_count', models.IntegerField(blank=True, null=True)),
                ('city', models.TextField(blank=True, null=True)),
                ('state', models.TextField(blank=True, null=True)),
                ('camera_brands', models.TextField(blank=True, null=True)),
                ('has_rtsp', models.BooleanField(blank=True, null=True)),
                ('status', models.CharField(choices=[('new', 'new'), ('contacted', 'contacted'), ('scheduled', 'scheduled'), ('no_show', 'no_show'), ('trial_active', 'trial_active'), ('converted', 'converted'), ('lost', 'lost')], default='new', max_length=20)),
                ('notes', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField()),
                ('source', models.TextField(blank=True, null=True)),
                ('utm', models.JSONField(default=dict)),
                ('metadata', models.JSONField(default=dict)),
                ('operation_type', models.TextField(blank=True, null=True)),
                ('stores_range', models.TextField(blank=True, null=True)),
                ('cameras_range', models.TextField(blank=True, null=True)),
                ('primary_goal', models.TextField(blank=True, null=True)),
                ('pilot_city', models.TextField(blank=True, null=True)),
                ('pilot_state', models.TextField(blank=True, null=True)),
                ('calendly_event_uri', models.TextField(blank=True, null=True)),
                ('calendly_invitee_uri', models.TextField(blank=True, null=True)),
                ('scheduled_at', models.DateTimeField(blank=True, null=True)),
                ('timezone', models.TextField(blank=True, null=True)),
                ('camera_brands_json', models.JSONField(default=list)),
                ('qualified_score', models.IntegerField(default=0)),
                ('primary_goals', models.JSONField(default=list)),
            ],
            options={
                'db_table': 'demo_leads',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='DetectionEvent',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('type', models.TextField()),
                ('severity', models.CharField(choices=[('critical', 'critical'), ('warning', 'warning'), ('info', 'info')], max_length=20)),
                ('status', models.CharField(choices=[('open', 'open'), ('resolved', 'resolved'), ('ignored', 'ignored')], default='open', max_length=20)),
                ('title', models.TextField()),
                ('description', models.TextField(blank=True, null=True)),
                ('occurred_at', models.DateTimeField()),
                ('metadata', models.JSONField(default=dict)),
                ('suppressed_by_rule_id', models.UUIDField(blank=True, null=True)),
                ('suppressed_reason', models.TextField(blank=True, null=True)),
                ('resolved_at', models.DateTimeField(blank=True, null=True)),
                ('resolved_by_user_id', models.UUIDField(blank=True, null=True)),
                ('created_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'detection_events',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Employee',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('full_name', models.TextField()),
                ('email', models.TextField(blank=True, null=True)),
                ('role', models.CharField(choices=[('manager', 'manager'), ('cashier', 'cashier'), ('seller', 'seller'), ('security', 'security'), ('stock', 'stock'), ('other', 'other')], default='other', max_length=20)),
                ('external_id', models.TextField(blank=True, null=True)),
                ('active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'employees',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='EventMedia',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('media_type', models.TextField()),
                ('url', models.TextField()),
                ('starts_at', models.DateTimeField(blank=True, null=True)),
                ('ends_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'event_media',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='JourneyEvent',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('event_name', models.TextField()),
                ('payload', models.JSONField(default=dict)),
                ('created_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'journey_events',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='NotificationLog',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('channel', models.TextField()),
                ('destination', models.TextField(blank=True, null=True)),
                ('provider', models.TextField(blank=True, null=True)),
                ('status', models.TextField()),
                ('provider_message_id', models.TextField(blank=True, null=True)),
                ('error', models.TextField(blank=True, null=True)),
                ('sent_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'notification_logs',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='OnboardingProgress',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('step', models.TextField()),
                ('completed', models.BooleanField(default=False)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'onboarding_progress',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Organization',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('name', models.TextField()),
                ('segment', models.TextField(blank=True, null=True)),
                ('country', models.TextField(default='BR')),
                ('timezone', models.TextField(default='America/Sao_Paulo')),
                ('created_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'organizations',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='OrgMember',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('user_id', models.UUIDField()),
                ('role', models.CharField(choices=[('owner', 'owner'), ('admin', 'admin'), ('manager', 'manager'), ('viewer', 'viewer')], default='viewer', max_length=20)),
                ('created_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'org_members',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Shift',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('starts_at', models.DateTimeField()),
                ('ends_at', models.DateTimeField()),
                ('planned', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'shifts',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Store',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('code', models.TextField(blank=True, null=True)),
                ('name', models.TextField()),
                ('mall_name', models.TextField(blank=True, null=True)),
                ('city', models.TextField(blank=True, null=True)),
                ('state', models.TextField(blank=True, null=True)),
                ('address', models.TextField(blank=True, null=True)),
                ('status', models.CharField(choices=[('active', 'active'), ('inactive', 'inactive'), ('trial', 'trial'), ('blocked', 'blocked')], default='trial', max_length=20)),
                ('trial_started_at', models.DateTimeField(blank=True, null=True)),
                ('trial_ends_at', models.DateTimeField(blank=True, null=True)),
                ('blocked_reason', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField()),
                ('updated_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'stores',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='StoreZone',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('name', models.TextField()),
                ('zone_type', models.TextField()),
                ('is_critical', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'store_zones',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='Subscription',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('stripe_subscription_id', models.TextField(blank=True, null=True)),
                ('plan_code', models.TextField()),
                ('status', models.CharField(choices=[('trialing', 'trialing'), ('active', 'active'), ('past_due', 'past_due'), ('canceled', 'canceled'), ('incomplete', 'incomplete'), ('blocked', 'blocked')], default='trialing', max_length=20)),
                ('current_period_start', models.DateTimeField(blank=True, null=True)),
                ('current_period_end', models.DateTimeField(blank=True, null=True)),
                ('cancel_at_period_end', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField()),
                ('updated_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'subscriptions',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='TimeClockEntry',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('source', models.TextField(default='manual')),
                ('clock_in_at', models.DateTimeField(blank=True, null=True)),
                ('clock_out_at', models.DateTimeField(blank=True, null=True)),
                ('evidence_event_id', models.UUIDField(blank=True, null=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField()),
            ],
            options={
                'db_table': 'time_clock_entries',
                'abstract': False,
                'managed': False,
            },
        ),
        migrations.DeleteModel(
            name='AppConfig',
        ),
    ]
